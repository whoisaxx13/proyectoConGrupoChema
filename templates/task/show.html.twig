{% extends 'base.html.twig' %}

{% block title %}{{task.event.name}} | Tareas{% endblock %}
{% block body %}
    

    <table class="table">
        <tbody>
            <tr>
                <th class="text-right" style="font-size:22pt">Tareas</th>
            </tr>
            <tr>
                <th>Nombre de la tarea</th>
                <td>{{ task.event.name }}</td>
            </tr>
            <tr>
                <th>Fecha de inicio</th>
                <td>{{ task.startTime ? task.startTime|date('d/m/Y H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>Fecha de finalizaci√≥n</th>
                <td>{{ task.endTime ? task.endTime|date('d/m/Y H:i:s') : '' }}</td>
            </tr>
            {# <tr>
                <th>Estado</th>
                <td>{{ task.state ? 'Yes' : 'No' }}</td>
            </tr>
            <tr>
                <th>State_request</th>
                <td>{{ task.stateRequest }}</td>
            </tr> #}
            <tr>
                <th>Tiempo extra</th>
                <td>{{ task.extraTime ? task.extraTime|date('d/m/Y H:i:s') : '' }}</td>
            </tr>

            <tr>
                <th>Tiempo dedicado</th>
                <td>{{totaltime}} horas</td>
            </tr>
            
            {% if task.type == 1 %}
            
            <tr>
                <th class="text-right m-4" style="font-size:22pt">Trabajos</th>
                <td/>
            </tr>

            <tr>
                <td> <a href='/job/new'><button>Crear Trabajo</button></a> </td>
            </tr>

            {% for job in task.jobs %}
                <tr>
                    <th>{{ job.description }}</th>
                    <td>{{ job.time }} minutos</td>
                </tr>
            {% endfor %}
            {% endif %}
            
        </tbody>
    </table>

    <a class="m-2 mt-5 btn btn-success font-weight-bold" href="{{ path('app_warehouse') }}"> <-- Volver al calendario</a>
{% endblock %}
